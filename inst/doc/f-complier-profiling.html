<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Moritz Marbach" />


<title>Profiling compliers and non-compliers</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Profiling compliers and non-compliers</h1>
<h3 class="subtitle">Characterizing latent groups in an encouragement
design</h3>
<h4 class="author">Moritz Marbach</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(CausalQueries)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<p>Angrist, Imbens, and Rubin (1996) demonstrate that one can
consistently estimate the local average treatment effect, LATE, (also
called the complier average treatment effect, CATE) in randomized
control trials with non-compliance. Compliers are units that comply with
the treatment assignment, i.e., they participate if assigned to the
treatment but not otherwise. In contrast, always-takers are units that
always participate, regardless of their assignment. Never-takers are
units that never participate, regardless of their assignment. Finally,
defiers do the opposite of what they are assigned to do, i.e., they
participate if assigned to the control group and do not participate if
assigned to the treatment group. Angrist, Imbens, and Rubin (1996)
highlight that to consistently estimate the LATE, randomization is not
sufficient and one also needs to assume that there are no defiers, along
with other assumptions.</p>
<p>To better understand the subpopulation one is making inferences
about, i.e., the compliers, Marbach and Hangartner (2020) suggest to
characterize the compliers and non-compliers in terms of their
covariates when analyzing experiments with non-compliance (or use
instruments in observational studies). They provide an easy-to-use
estimator for the case of a fully randomized treatment assignment (see
<a href="https://github.com/sumtxt/ivdesc">ivdesc</a>). Using
<code>CausalQueries</code>, we replicate their approach with data from
the JTPA study evaluating the effectiveness of an employment and
training program in the United States during the 1980s (Bloom et
al. 1997). In this field experiment, subjects were randomly assigned to
an employment training program. However, there is non-compliance: Some
subjects assigned to training decided to not participate while a small
number managed to participate despite being assigned to the control
group.</p>
<p>For this vignette, we focus on characterizing the proportion of men
among the compliers, always-takers and never-takers. We convert the
outcome (earnings) into a binary indicator encoding if subjects earn
above median and rename the relevant variables to ease the specification
of the model:</p>
<ul>
<li><code>Z</code>: treatment assignment,</li>
<li><code>D</code>: participation,</li>
<li><code>Y</code>: outcome,</li>
<li><code>X</code>: covariate.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;http://fmwww.bc.edu/repec/bocode/j/jtpa.dta&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">select</span>(training, assignmt, earnings, sex) <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Z=</span>assignmt, <span class="at">D=</span>training, <span class="at">Y=</span>earnings, <span class="at">X=</span>sex) <span class="sc">|&gt;</span>  </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Y=</span><span class="fu">as.numeric</span>(Y<span class="sc">&gt;</span><span class="fu">median</span>(Y)))</span></code></pre></div>
<p>We define a classical instrumental variable model with an exclusion
restriction and the restriction that there are no defiers. While the
exclusion restriction follows from the experimental design, the
restriction of no defiers remains an (untestable) assumption. We allow
race to confound treatment and outcome and we allow for additional
unobserved confounding between the treatment and the outcome.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">make_model</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="st">&quot;Z -&gt; D -&gt; Y; </span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="st">     D &lt;- X -&gt; Y; </span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="st">     D &lt;-&gt; Y&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">set_restrictions</span>(<span class="st">&quot;(D[Z=1] &lt; D[Z=0])&quot;</span>) </span></code></pre></div>
<p>Relying on the default priors, we update model with the experimental
data:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> model <span class="sc">|&gt;</span> <span class="fu">update_model</span>(df, <span class="at">refresh =</span> <span class="dv">0</span>, <span class="at">iter=</span><span class="dv">4000</span>)</span></code></pre></div>
<p>To estimate the effect of participation among compliers on
probability of above-median earnings, we use the
<code>query_model</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>model <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">query_model</span>(<span class="fu">list</span>(</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>      <span class="at">LATE=</span><span class="st">&quot;Y[D=1]-Y[D=0] :|: D[Z=1] &gt; D[Z=0]&quot;</span>), </span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>      <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;posteriors&quot;</span>))</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; Causal queries generated by query_model (all at population level)</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; |label |query         |given           |using      | mean|    sd| cred.low| cred.high|</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; |:-----|:-------------|:---------------|:----------|----:|-----:|--------:|---------:|</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; |LATE  |Y[D=1]-Y[D=0] |D[Z=1] &gt; D[Z=0] |posteriors | 0.04| 0.015|     0.01|      0.07|</span></span></code></pre></div>
<p>Next, we estimate the share of compliers (<code>co_p</code>),
always-takers (<code>at_p</code>) and never-takers
(<code>nt_p</code>):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>model <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">query_model</span>(<span class="fu">list</span>(</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>      <span class="at">co_p=</span><span class="st">&quot;D[Z=1] &gt; D[Z=0]&quot;</span>, </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>      <span class="at">at_p=</span><span class="st">&quot;D[Z=1]==1 &amp; D[Z=0]==1&quot;</span>, </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>      <span class="at">nt_p=</span><span class="st">&quot;D[Z=1]==0 &amp; D[Z=0]==0&quot;</span>), </span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>      <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;posteriors&quot;</span>)) </span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="co">#&gt; Causal queries generated by query_model (all at population level)</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="co">#&gt; |label |query                 |using      |  mean|    sd| cred.low| cred.high|</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="co">#&gt; |:-----|:---------------------|:----------|-----:|-----:|--------:|---------:|</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="co">#&gt; |co_p  |D[Z=1] &gt; D[Z=0]       |posteriors | 0.626| 0.006|    0.614|     0.637|</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="co">#&gt; |at_p  |D[Z=1]==1 &amp; D[Z=0]==1 |posteriors | 0.016| 0.002|    0.012|     0.020|</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="co">#&gt; |nt_p  |D[Z=1]==0 &amp; D[Z=0]==0 |posteriors | 0.359| 0.006|    0.348|     0.370|</span></span></code></pre></div>
<p>Observing that most non-compliers are never-takers, we next estimate
the share of men among the compliers (<code>co_mu</code>), always-takers
(<code>at_mu</code>) and never-takers (<code>nt_mu</code>):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>model <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">query_model</span>(<span class="fu">list</span>(</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>      <span class="at">co_mu=</span><span class="st">&quot;X==1 :|: D[Z=1] &gt; D[Z=0]&quot;</span>, </span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>      <span class="at">at_mu=</span><span class="st">&quot;X==1 :|: D[Z=1]==1 &amp; D[Z=0]==1&quot;</span>,</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>      <span class="at">nt_mu=</span><span class="st">&quot;X==1 :|: D[Z=1]==0 &amp; D[Z=0]==0&quot;</span>), </span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>      <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;posteriors&quot;</span>)) </span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; Causal queries generated by query_model (all at population level)</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; |label |query |given                 |using      |  mean|    sd| cred.low| cred.high|</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; |:-----|:-----|:---------------------|:----------|-----:|-----:|--------:|---------:|</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; |co_mu |X==1  |D[Z=1] &gt; D[Z=0]       |posteriors | 0.444| 0.007|    0.431|     0.457|</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt; |at_mu |X==1  |D[Z=1]==1 &amp; D[Z=0]==1 |posteriors | 0.364| 0.060|    0.252|     0.485|</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co">#&gt; |nt_mu |X==1  |D[Z=1]==0 &amp; D[Z=0]==0 |posteriors | 0.479| 0.009|    0.461|     0.496|</span></span></code></pre></div>
<p>The results show that the share of men is larger among the
never-takers compared to the compliers. To obtain the posterior
probability that the share of men among compliers is smaller than among
the never-takers we draw from the posterior distribution via
<code>query_distribution</code> and then compute the share of the draws
for which complier mean is smaller than the never-taker mean:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>model <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="fu">query_distribution</span>(<span class="fu">list</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>      <span class="at">co_mu=</span><span class="st">&quot;X==1 :|: D[Z=1] &gt; D[Z=0]&quot;</span>, </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>      <span class="at">nt_mu=</span><span class="st">&quot;X==1 :|: D[Z=1]==0 &amp; D[Z=0]==0&quot;</span>), </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>      <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;posteriors&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>        <span class="at">pp_co_nt=</span><span class="fu">mean</span>(co_mu <span class="sc">&lt;</span> nt_mu))</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">#&gt;   pp_co_nt</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">#&gt; 1   0.9975</span></span></code></pre></div>
<p>With <code>CausalQueries</code> it is easy to move beyond the
profiling of compliers and non-compliers in fully randomized experiments
as in Marbach and Hangartner (2020). For example, one can extend the
model to allow for conditional random assignment (by adding a causal
arrow from <code>X</code> to <code>Z</code> in the model definition) or
explore how violations of the monotonicity assumption affect the results
(by removing <code>set_restrictions()</code>).</p>
<div id="references" class="section level2">
<h2>References</h2>
<p>Angrist, J. D., G. W. Imbens, and D. B. Rubin. 1996. “Identification
of Causal Effects Using Instrumental Variables.” <em>Journal of the
American Statistical Association</em> 91.434:444–455.</p>
<p>Bloom, H. S., Orr, L. L., Bell, S. H., Cave, G., Doolittle, F., Lin,
W., and Bos, J. M. 1997. “The benefits and costs of JTPA Title II-A
programs: Key findings from the National Job Training Partnership Act
Study”. <em>The Journal of Human Resources</em> 32.3:549-576.</p>
<p>Marbach, M. and D. Hangartner. 2020. “Profiling compliers and
noncompliers for instrumental-Variable Analysis.” <em>Political
Analysis</em> 28.3:435-444.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
